{#
  Reusable Login Component

  Parameters:
  - title: Login box title (default: "Welcome to SSPI")
  - form: WTForm login form object (required if show_form is true)
  - error: Error message to display (optional)
  - show_register_link: Whether to show the registration link (default: true)
  - show_form: Whether to show the full form (default: false, shows CTA button instead)
#}
<div class="login-box">
  <h1 class="login-title">{{ title or "Sign in to use customization tools SSPI" }}</h1>
  {% if error %}
    <div class="error-message">{{ error }}</div>
  {% endif %}

  {% if show_form %}
    <form action="" method="POST" class="login-form">
      {{ form.hidden_tag() }}
      <div class="form-group">
        {{ form.username.label }}
        {{ form.username(autofocus=True) }}
      </div>
      <div class="form-group">
        {{ form.password.label }}
        {{ form.password }}
      </div>
      <div class="remember-me-group">
        {{ form.remember_me }}
        {{ form.remember_me.label }}
      </div>
      {{ form.submit(class="submit-button") }}
    </form>
    {% if show_register_link is not defined or show_register_link %}
      <div class="login-link">
        Don't have an account? <a href="{{ url_for('auth_bp.register') }}">Register here</a>
      </div>
    {% endif %}
  {% else %}
    {# Call-to-action version without form #}
    <div class="login-link">
      <a href="{{ url_for('auth_bp.user_login') }}">Sign in</a> or <a href="{{ url_for('auth_bp.register') }}">create a free account</a> to get started.
    </div>
  {% endif %}
</div>
